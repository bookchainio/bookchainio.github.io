<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="../../bower_components/paper-card/paper-card.html">

<link rel="import" href="my-icons.html">
<link rel="import" href="../shared-styles.html">
<link rel="import" href="../components/my-icons.html">

<dom-module id="file-card">

    <template>

        <style include="shared-styles">

            /* GENERAL */
            :host {
                @apply(--layout-flex);
            }

            * {
                font-weight: 300;
            }

            #fileCard {
                display: inline-block;
                margin: 12px;
                background: var(--app-secondary-background-color);
                --paper-card-background-color: var(--app-secondary-background-color);
                --paper-card-header-color: var(--app-background-primary-text-color);
                --paper-card-header-image: {
                    width: 216px;
                    height: 133px;
                };

                --paper-card-header-text: {
                    background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, .8));
                    font-size: 12px;
                    width: 100%;
                    margin: 0;
                    padding: 12px;
                    color: #eee;
                };
            }

            @media (max-width: 400px) {
                #fileCard {
                    margin: 8px;
                    --paper-card-header-image: {
                        width: 142px;
                        height: 88px;
                    };
                }
            }

        </style>


        <!-- post cards -->
        <paper-card id="fileCard"
                    heading="[[file.name]]"
                    image="[[file.url]]">
        </paper-card>

    </template>
</dom-module>

<script>

    Polymer({

        is: 'file-card',

        properties: {

            file: {
                type: Object
            },

            _imageUrl: {
                type: String
            }
        },

        observer: [
            '_computeImageUrl(file)'
        ],

        _computeImageUrl: function(file) {

            if(file.url.includes('.png') || file.url.includes('.jpg') || file.url.includes('.jpeg') || file.url.includes('.gif')){

                this._imageUrl = file.url;

            }else if(file.url.includes('docs.google.com/document')) {

                this._imageUrl =  './src/images/google/docs.png';
            }else if(file.url.includes('docs.google.com/drawings')) {

                this._imageUrl =  './src/images/google/drawing.png';
            }else if(file.url.includes('docs.google.com/forms')) {

                this._imageUrl =  './src/images/google/forms.png';
            }else if(file.url.includes('docs.google.com/spreadsheets')) {

                this._imageUrl =  './src/images/google/sheets.png';
            }else if(file.url.includes('docs.google.com/presentation')) {

                this._imageUrl =  './src/images/google/slides.png';
            }else if(file.url.includes('github.com')) {

                this._imageUrl =  './src/images/github/octocat.png';
            }
        }

    });

</script>